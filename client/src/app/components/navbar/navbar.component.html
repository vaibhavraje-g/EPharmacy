<nav class="navbar navbar-expand-md navbar-dark" style="background-color: #28a745">
  <a class="navbar-brand" href="/">
    <span class="navbar-title">EPharmacy</span>
  </a>

  <!-- Navbar Links Container (collapsible) -->
  <div class="collapse navbar-collapse" id="navbarContent">
    <!-- Guest Links: Sign In / Sign Up -->
    <ul *ngIf="!loggedIn" class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/login']">Sign In</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/register']">Sign Up</a>
      </li>
    </ul>

    <!-- Customer Links when Logged In -->
    <ul *ngIf="loggedIn" class="navbar-nav ml-auto">
      <!-- Link to Medicines -->
      <li class="nav-item">
        <a routerLink="medicine" routerLinkActive="active" class="nav-link">Medicines</a>
      </li>

      <!-- Cart with Badge -->
      <li class="nav-item">
        <a routerLink="customerCart" routerLinkActive="active" class="nav-link">
          <mat-icon [matBadge]="cartItemCount$ | async" matBadgeColor="accent">shopping_cart</mat-icon>
        </a>
      </li>

      <!-- User Profile and Logout Dropdown -->
      <li class="nav-item dropdown">
        <button class="btn dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <span>Welcome, {{ loggedInPerson | titlecase }}</span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
          <li>
            <a class="dropdown-item" routerLink="customerDetails" routerLinkActive="active">My Profile</a>
          </li>
          <li>
            <a class="dropdown-item" routerLink="viewOrder" routerLinkActive="active">My Orders</a>
          </li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li>
            <a class="dropdown-item" (click)="logout()">Logout</a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</nav>
